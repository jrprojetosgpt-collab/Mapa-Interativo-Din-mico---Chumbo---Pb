<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mapa Interativo — Isoconcentração de Pb</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    html, body, #map { height:100%; margin:0; }
    .legend {
      position:absolute; bottom:12px; left:12px; z-index:1000;
      background:#fff; border-radius:6px; padding:8px 10px;
      box-shadow:0 0 10px rgba(0,0,0,.15); font:12px/1.3 Arial, sans-serif;
    }
    .raster-legend { margin-top:6px; border-top:1px solid #ddd; padding-top:6px; }
    .ramp-title { font-weight:700; margin:6px 0 2px; }
    .ramp-row { display:flex; align-items:center; gap:8px; margin:3px 0; }
    .sw { width:16px; height:12px; border:1px solid #999; border-radius:2px; display:inline-block; }
  </style>
</head>
<body>
<div id="map"></div>

<!-- Legenda simples (opcional) -->
<div class="legend" id="legend">
  <div style="font-weight:700; margin-bottom:4px;">Legenda</div>
  <div class="raster-legend">
    <div class="ramp-title">1° Campanha Pb (µg/L)</div>
    <div class="ramp-row"><span class="sw" style="background:#2f7db6"></span>0.5</div>
    <div class="ramp-row"><span class="sw" style="background:#9bd18b"></span>6</div>
    <div class="ramp-row"><span class="sw" style="background:#f7e9a6"></span>11</div>
    <div class="ramp-row"><span class="sw" style="background:#f39a4a"></span>16</div>
    <div class="ramp-row"><span class="sw" style="background:#d83a2e"></span>21</div>
  </div>
  <div class="raster-legend">
    <div class="ramp-title">2° Campanha Pb (µg/L)</div>
    <div class="ramp-row"><span class="sw" style="background:#2f7db6"></span>0.5</div>
    <div class="ramp-row"><span class="sw" style="background:#9bd18b"></span>4.37</div>
    <div class="ramp-row"><span class="sw" style="background:#f7e9a6"></span>8.24</div>
    <div class="ramp-row"><span class="sw" style="background:#f39a4a"></span>12.12</div>
    <div class="ramp-row"><span class="sw" style="background:#d83a2e"></span>16</div>
  </div>
  <div class="raster-legend">
    <div class="ramp-title">3° Campanha Pb (µg/L)</div>
    <div class="ramp-row"><span class="sw" style="background:#2f7db6"></span>0.5</div>
    <div class="ramp-row"><span class="sw" style="background:#9bd18b"></span>7.8</div>
    <div class="ramp-row"><span class="sw" style="background:#f7e9a6"></span>15.24</div>
    <div class="ramp-row"><span class="sw" style="background:#f39a4a"></span>22.62</div>
    <div class="ramp-row"><span class="sw" style="background:#d83a2e"></span>30</div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // Cria o mapa com limites de zoom amplos
  const map = L.map('map', { minZoom: 10, maxZoom: 22 });

  // Base Esri Satélite
  const esri = L.tileLayer(
    "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
    { attribution: "Esri, Maxar, Earthstar Geographics, and the GIS User Community" }
  ).addTo(map);

  // === Seus rasters publicados no GitHub (z nativo 18) ===
  // IMPORTANTE: estes caminhos batem com a estrutura que aparece no seu repositório
  const raster18 = L.tileLayer("18/{x}/{y}.png", {
    minNativeZoom: 18, maxNativeZoom: 18, minZoom: 10, maxZoom: 22, tileSize: 256,
    attribution: "1° Campanha Pb — AmbSolus"
  }).addTo(map);

  const raster18_ii = L.tileLayer("18_II/18/{x}/{y}.png", {
    minNativeZoom: 18, maxNativeZoom: 18, minZoom: 10, maxZoom: 22, tileSize: 256,
    attribution: "2° Campanha Pb — AmbSolus"
  }).addTo(map);

  const raster18_iii = L.tileLayer("18_III/18/{x}/{y}.png", {
    minNativeZoom: 18, maxNativeZoom: 18, minZoom: 10, maxZoom: 22, tileSize: 256,
    attribution: "3° Campanha Pb — AmbSolus"
  }).addTo(map);

  // Controle de camadas
  L.control.layers(
    { "Satélite (Esri)": esri },
    {
      "1° Campanha Pb": raster18,
      "2° Campanha Pb": raster18_ii,
      "3° Campanha Pb": raster18_iii
    },
    { collapsed: false }
  ).addTo(map);

  // Posição inicial (aprox. Brasil Sul). Você pode ajustar depois.
  map.setView([-29.7, -51.1], 17);
</script>
</body>
</html>


